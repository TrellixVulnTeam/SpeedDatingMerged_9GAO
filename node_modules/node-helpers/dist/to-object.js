'use strict';

var _ = require('lodash');

// From db instance to simple js object
// Removes __v fields
module.exports = function (instance) {
  if (!instance) return {};

  var result = _.has(instance, 'toObject') ? instance.toObject() : instance;
  return _.omit(result, ['__v']);
};